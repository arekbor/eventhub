<div class="flex flex-column">
  <form [formGroup]="form">
    @if (calendarEvent?.id) {
    <div class="flex flex-column justify-content-center align-items-center">
      <div class="text-xs font-light">Event id: {{ calendarEvent?.id }}</div>
    </div>

    <p-divider />
    }

    <app-input
      type="text"
      label="Title"
      inputId="title"
      formControlName="title"
      [isLoading]="createCalendarEventPerfrom.isLoading"
    />

    <app-checkbox
      label="All day"
      formControlName="allDay"
      [enabled]="!createCalendarEventPerfrom.isLoading"
    />

    <app-date-time-input
      formControlName="start"
      label="Date time range from"
      inputId="date-time-range-from"
      appendTo="body"
      [showTime]="!form.get('allDay')?.value"
      [maxDate]="form.get('end')?.value"
      [isLoading]="createCalendarEventPerfrom.isLoading"
    />

    <app-date-time-input
      formControlName="end"
      label="Date time range to"
      inputId="date-time-range-to"
      appendTo="body"
      [showTime]="!form.get('allDay')?.value"
      [minDate]="form.get('start')?.value"
      [isLoading]="createCalendarEventPerfrom.isLoading"
    />

    <p-editor
      formControlName="meta"
      [readonly]="createCalendarEventPerfrom.isLoading"
    >
      <ng-template pTemplate="header">
        <span class="ql-formats">
          <button type="button" class="ql-bold" aria-label="Bold"></button>
          <button type="button" class="ql-italic" aria-label="Italic"></button>
          <button
            type="button"
            class="ql-underline"
            aria-label="Underline"
          ></button>
          <button type="button" class="ql-strike" aria-label="strike"></button>
          <button
            type="button"
            class="ql-blockquote"
            aria-label="blockquote"
          ></button>
          <button
            type="button"
            class="ql-code-block"
            aria-label="code-block"
          ></button>
          <button type="button" class="ql-link" aria-label="link"></button>
        </span>

        <select class="ql-size">
          <option value="small"></option>
          <option selected></option>
        </select>
      </ng-template>
    </p-editor>
  </form>

  <div class="flex justify-content-end mt-5">
    <app-form-submit
      [form]="form"
      (validSubmit)="onSubmit()"
      [isLoading]="createCalendarEventPerfrom.isLoading"
      >Submit</app-form-submit
    >
  </div>
</div>
